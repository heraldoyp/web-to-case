<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>BlendMedia Support - New Support Case</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
		<script src="https://www.google.com/recaptcha/api.js"></script>
		<script>
			function timestamp() {
				var response = document.getElementById("g-recaptcha-response");
				if (response == null || response.value.trim() == "") {
					var elems = JSON.parse(
						document.getElementsByName("captcha_settings")[0].value
					);
					elems["ts"] = JSON.stringify(new Date().getTime());
					document.getElementsByName("captcha_settings")[0].value =
						JSON.stringify(elems);
				}
			}
			setInterval(timestamp, 500);
		</script>

		<style>
			body {
				background-color: #fff;
				color: #fff;
			}
			.navbar {
				border-bottom: 1px solid #333;
				height: 75px;
				padding: 8px 0px 8px 0px;
			}
			.navbar-brand svg {
				width: 24px;
				height: 24px;
				margin-right: 10px;
			}
			.avatar {
				width: 32px;
				height: 32px;
				background-color: #333;
				border-radius: 50%;
				display: inline-flex;
				align-items: center;
				justify-content: center;
				margin-right: 10px;
			}
			.blendmedia-logo {
				width: 140px;
				height: 19px;
			}
			.breadcrumb {
				background-color: transparent;
			}
			.breadcrumb-item.active {
				color: #333;
				text-decoration: underline;
			}
			.breadcrumb-item a.text-muted {
				color: #333;
				text-decoration: none;
			}
			.breadcrumb-item + .breadcrumb-item::before {
				color: #333;
			}
			.form-container {
				background-color: #111;
				border-radius: 8px;
				padding: 30px;
			}
			.form-control,
			.form-select {
				background-color: #222;
				border-color: #333;
				color: #fff;
			}
			.form-control:focus,
			.form-select:focus {
				background-color: #222;
				border-color: #666;
				color: #fff;
				box-shadow: none;
			}
			.btn-cancel {
				background-color: transparent;
				border: 1px solid #333;
				color: #fff;
			}
			.btn-cancel:hover {
				background-color: #333;
				color: #fff;
			}
			.btn-submit {
				background-color: #fff;
				color: #000;
			}
			.btn-submit:hover {
				background-color: #e0e0e0;
				color: #000;
			}

			/* File Attachments */
			.upload-container {
				max-width: 500px;
				margin: 20px auto;
				padding: 20px;
				font-family: Arial, sans-serif;
			}

			.upload-area {
				border: 2px dashed #ccc;
				border-radius: 8px;
				padding: 20px;
				text-align: left;
				cursor: pointer;
				transition: border-color 0.3s ease;
			}

			.upload-area:hover {
				border-color: #666;
			}

			.upload-area.dragover {
				background-color: #222;
				border-color: white;
			}

			#fileInput {
				display: none;
			}

			.upload-icon {
				width: 50px;
				height: 50px;
				margin-bottom: 10px;
				fill: #666;
			}

			.file-list {
				margin-top: 20px;
				padding: 0;
				list-style: none;
			}

			.file-item {
				display: flex;
				justify-content: space-between;
				align-items: left;
				padding: 8px;
				margin: 5px 0;
				background-color: #222;
				border-radius: 4px;
			}

			.remove-file {
				background: #ff4444;
				color: white;
				border: none;
				padding: 4px 8px;
				border-radius: 4px;
				cursor: pointer;
			}

			.button {
				background-color: #4caf50;
				color: white;
				padding: 10px 20px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				margin-top: 10px;
			}

			.button:hover {
				background-color: #45a049;
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark">
			<div class="container">
				<a class="navbar-brand d-flex align-items-center" href="#">
					<img
						class="blendmedia-logo"
						src="assets/merkle-full-logo-lt-1.png"
						alt="blendmedia_logo"
					/>
				</a>
				<div class="ms-auto d-flex align-items-center">
					<div class="avatar">HS</div>
					<span class="breadcrumb-item active"
						>heraldo.yusron@dentsu.com</span
					>
				</div>
			</div>
		</nav>

		<main class="container my-5">
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<p href="#" class="text-muted">Support Case</p>
					</li>
					<li class="breadcrumb-item active">New Support Case</li>
				</ol>
			</nav>

			<div class="form-container">
				<form
					id="supportForm"
					action="https://webto.salesforce.com/servlet/servlet.WebToCase?encoding=UTF-8&orgId=00DfK000001CvLJ"
					method="POST"
				>
					<input
						type="hidden"
						name="captcha_settings"
						value='{"keyname":"Dentsu3","fallback":"true","orgId":"00DNS00000FYYpp","ts":""}'
					/>
					<input type="hidden" name="orgid" value="00DNS00000FYYpp" />
					<input
						type="hidden"
						name="retURL"
						value="https://www.merkle.com/en/locations/asia-pacific/indonesia.html"
					/>
					<div class="mb-3">
						<label for="name" class="form-label"
							>Contact Name</label
						>
						<input
							type="text"
							class="form-control"
							id="name"
							name="name"
							placeholder="Enter your name"
							required
						/>
					</div>

					<div class="mb-3">
						<label for="email" class="form-label">Email</label>
						<input
							type="text"
							class="form-control"
							id="email"
							name="email"
							placeholder="Enter your email"
							required
						/>
					</div>

					<div class="mb-3">
						<label for="phone" class="form-label">Phone</label>
						<input
							type="text"
							class="form-control"
							id="phone"
							name="phone"
							placeholder="Enter your phone number"
							required
						/>
					</div>

					<div class="mb-3">
						<label for="subject" class="form-label">Subject</label>
						<input
							type="text"
							class="form-control"
							id="subject"
							name="subject"
							placeholder="Enter case subject"
							required
						/>
					</div>

					<div class="mb-3">
						<label for="priority" class="form-label"
							>Priority</label
						>
						<select
							class="form-select"
							id="priority"
							name="priority"
							required
						>
							<option value="">Select priority</option>
							<option value="high">High</option>
							<option value="medium">Medium</option>
							<option value="low">Low</option>
						</select>
					</div>

					<div class="mb-3">
						<div class="mb-3">
							<label for="formFileMultiple" class="form-label"
								>File Attachments</label
							>
							<input
								class="form-control font-control-sm"
								type="file"
								id="formFileMultiple"
								multiple
							/>
						</div>
					</div>

					<div class="mb-3">
						<label for="description" class="form-label"
							>Description</label
						>
						<textarea
							class="form-control"
							id="description"
							name="description"
							rows="5"
							placeholder="Enter case description..."
							required
						></textarea>
					</div>

					<div class="mb-3">
						<div
							class="g-recaptcha"
							data-sitekey="6LdEn_AqAAAAAMEHCnspkAzu-quU7FbIW95Ii3qe"
							data-theme="dark"
						></div>
						<br />
					</div>

					<div class="text-end">
						<button type="button" class="btn btn-cancel me-2">
							Cancel
						</button>
						<button
							type="submit"
							name="submit"
							class="btn btn-submit"
						>
							Submit
						</button>
					</div>
				</form>
			</div>
		</main>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			const dropZone = document.getElementById("dropZone");
			const fileInput = document.getElementById("fileInput");
			const fileList = document.getElementById("fileList");
			let files = [];

			// Handle click to browse
			dropZone.addEventListener("click", () => fileInput.click());

			// Handle file selection
			fileInput.addEventListener("change", (e) => {
				addFiles(e.target.files);
			});

			// Handle drag and drop
			dropZone.addEventListener("dragover", (e) => {
				e.preventDefault();
				dropZone.classList.add("dragover");
			});

			dropZone.addEventListener("dragleave", (e) => {
				e.preventDefault();
				dropZone.classList.remove("dragover");
			});

			dropZone.addEventListener("drop", (e) => {
				e.preventDefault();
				dropZone.classList.remove("dragover");
				addFiles(e.dataTransfer.files);
			});

			function addFiles(newFiles) {
				Array.from(newFiles).forEach((file) => {
					if (!files.some((f) => f.name === file.name)) {
						files.push(file);
						displayFile(file);
					}
				});
			}

			function displayFile(file) {
				const li = document.createElement("li");
				li.className = "file-item";

				const fileInfo = document.createElement("span");
				fileInfo.textContent = `${file.name} (${formatFileSize(
					file.size
				)})`;

				const removeButton = document.createElement("button");
				removeButton.textContent = "Remove";
				removeButton.className = "remove-file";
				removeButton.onclick = () => {
					files = files.filter((f) => f.name !== file.name);
					li.remove();
				};

				li.appendChild(fileInfo);
				li.appendChild(removeButton);
				fileList.appendChild(li);
			}

			function formatFileSize(bytes) {
				if (bytes === 0) return "0 Bytes";
				const k = 1024;
				const sizes = ["Bytes", "KB", "MB", "GB"];
				const i = Math.floor(Math.log(bytes) / Math.log(k));
				return (
					parseFloat((bytes / Math.pow(k, i)).toFixed(2)) +
					" " +
					sizes[i]
				);
			}

			function uploadFiles() {
				// Here you would typically send the files to a server
				// For demonstration, we'll just log the files
				console.log("Files to upload:", files);
				alert(`Uploading ${files.length} files...`);

				// Example of how you might upload using FormData
				// const formData = new FormData();
				// files.forEach(file => {
				//   formData.append('files[]', file);
				// });
				// fetch('/upload', {
				//   method: 'POST',
				//   body: formData
				// });
			}

			document
				.getElementById("supportForm")
				.addEventListener("submit", function (e) {
					// e.preventDefault();
					// Here you would typically send the form data to your server
					console.log("Form submitted");
					alert("Support case submitted successfully!");
				});

			document
				.querySelector(".btn-cancel")
				.addEventListener("click", function () {
					if (confirm("Are you sure you want to cancel?")) {
						// Here you would typically redirect to a different page or clear the form
						document.getElementById("supportForm").reset();
					}
				});
		</script>
	</body>
</html>
